---
page_title: "freeipa_user Resource - freeipa"
description: |-
  FreeIPA User resource. The user lifecycle is managed with the attribute state:
  
  active
  disabled
  staged
  preserved
  (defaults to active)
  An active user can be preserved.
  A user can be staged at the user's creation or from a preservedstate.
  A staged user can be preserved.
  A preserved or staged user can activated.
---

# freeipa_user (Resource)

FreeIPA User resource. The user lifecycle is managed with the attribute state:

- active

- disabled

- staged

- preserved

(defaults to active)

An `active` user can be preserved.

A user can be `staged` at the user's creation or from a `preserved`state.

A `staged` user can be preserved.

A `preserved` or `staged` user can activated.


## Example Usage

```terraform
resource "freeipa_user" "user-1" {
  first_name        = "Roman"
  last_name         = "Roman"
  name              = "roman"
  telephone_numbers = ["+380982555429", "2-10-11"]
  email_address     = ["roman@example.com"]
}

resource "freeipa_user" "user-2" {
  first_name        = "Roman"
  last_name         = "Roman"
  name              = "roman"
  state             = "staged"
  telephone_numbers = ["+380982555429", "2-10-11"]
  email_address     = ["roman@example.com"]
}
```



## Import Usage

```terraform
# The import id of an active must be exactly equal to `username` of the user to import.

# The associated resource in terraform must include the attributes:
# - `name`
# - `first_name`
# - `last_name`

import {
  to = freeipa_user.testuser
  id = "testuser"
}

resource "freeipa_user" "testuser" {
  name       = "testuser"
  first_name = "Test"
  last_name  = "User"
}

# The import id of n staged must be exactly equal to `username;staged` of the user to import.

# The associated resource in terraform must include the attributes:
# - `name`
# - `first_name`
# - `last_name`
# - `state`

import {
  to = freeipa_user.testuser
  id = "testuser;staged"
}

resource "freeipa_user" "testuser" {
  name           = "testuser"
  first_name     = "Test"
  last_name      = "User"
  state          = "staged
}

# The import id of a preserved must be exactly equal to `username;preserved` of the user to import.

# The associated resource in terraform must include the attributes:
# - `name`
# - `first_name`
# - `last_name`
# - `state`

import {
  to = freeipa_user.testuser
  id = "testuser;preserved"
}

resource "freeipa_user" "testuser" {
  name           = "testuser"
  first_name     = "Test"
  last_name      = "User"
  state          = "preserved"
}
```


<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `first_name` (String) First name
- `last_name` (String) Last name
- `name` (String) UID or Login

	- The name must not exceed 32 characters.
	- The name must contain only lowercase letters (a-z), digits (0-9), and the characters (. - _).
	- The name must not start with a special character.
	- A user and a group cannot have the same name.

### Optional

- `account_disabled` (Boolean, Deprecated) Account disabled.
- `addattr` (List of String) Add an attribute/value pair. Format is attr=value. The attribute must be part of the LDAP schema.
- `auth_type` (Set of String) User authentication type. Possible values of the elements are (password, radius, otp, pkinit, hardened, idp, passkey)
- `car_license` (List of String) Car Licenses
- `city` (String) City
- `display_name` (String) Display name
- `email_address` (List of String) Email address
- `employee_number` (String) Employee Number
- `employee_type` (String) Employee Type
- `external_idp_config` (String) External IdP configuration
- `external_idp_username` (String) External IdP user identifier
- `full_name` (String) Full name
- `gecos` (String) GECOS
- `gid_number` (Number) Group ID Number
- `home_directory` (String) Home Directory
- `initials` (String) Initials
- `job_title` (String) Job Title
- `krb_password_expiration` (String) User password expiration [RFC3339](https://datatracker.ietf.org/doc/html/rfc3339#section-5.8) format (see [RFC3339 time string](https://tools.ietf.org/html/rfc3339#section-5.8) e.g., `YYYY-MM-DDTHH:MM:SSZ`)
- `krb_principal_expiration` (String) Kerberos principal expiration [RFC3339](https://datatracker.ietf.org/doc/html/rfc3339#section-5.8) format (see [RFC3339 time string](https://tools.ietf.org/html/rfc3339#section-5.8) e.g., `YYYY-MM-DDTHH:MM:SSZ`)
- `krb_principal_name` (List of String) Principal alias
- `login_shell` (String) Login Shell
- `manager` (String) Manager
- `mobile_numbers` (List of String) Mobile Number
- `organisation_unit` (String) Org. Unit
- `postal_code` (String) Postal code
- `preferred_language` (String) Preferred Language
- `province` (String) Province/State/Country
- `radius_proxy_config` (String) RADIUS proxy configuration
- `radius_proxy_username` (String) RADIUS proxy username
- `random_password` (Boolean) Generate a random user password
- `setattr` (List of String) Set an attribute to a name/value pair. Format is attr=value.
- `ssh_public_key` (List of String) List of SSH public keys
- `state` (String) The current state of the user, can be `active`, `disabled`, `staged`, or `preserved`
- `street_address` (String) Street address
- `telephone_numbers` (List of String) Telephone Number
- `uid_number` (Number) User ID Number (system will assign one if not provided)
- `user_certificates` (Set of String) List of Base-64 encoded user certificates
- `userclass` (List of String) User category (semantics placed on this attribute are for local interpretation)
- `userpassword` (String, Sensitive) Prompt to set the user password

### Read-Only

- `id` (String) ID of the resource
